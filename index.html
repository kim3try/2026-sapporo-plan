<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 삿포로 4박 5일 겨울 여행 플래너</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Indigo and Teal Harmony (Indigo-600, Teal-500, Gray-800, Stone-100) -->
    <!-- Application Structure Plan: A single-page application with a fixed top navigation for easy section access. The key feature is the '추천 일정' (Recommended Itineraries) section, which uses a button-based tab system to present four distinct 4-night, 5-day plans. This design choice addresses the user's request for multiple options by creating a central point of comparison. The structure prioritizes user task flow: from high-level overview and budget comparison to detailed itinerary exploration and finally, practical information (activities, food, safety). -->
    <!-- Visualization & Content Choices: 1. Budget Data -> Goal: Compare -> Viz: Doughnut Chart -> Interaction: Button-based toggles update the chart and descriptive text for each of the four itineraries -> Justification: Provides a quick, visual summary of the cost breakdown for each option. 2. Itinerary Details -> Goal: Organize & Inform -> Viz: Accordion -> Interaction: Users can expand/collapse daily plans -> Justification: Manages the detailed text for each of the four separate itineraries, preventing overwhelming the user with a single long page scroll. 3. Accommodation, Activities, Food -> Goal: Inform & Filter -> Viz: Card-based grid with dynamic links -> Interaction: Filter buttons change the visible items on the page -> Justification: Allows users to quickly narrow down choices based on their interests. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f5f5f4; /* stone-100 */
            color: #1f2937; /* gray-800 */
            background-image: linear-gradient(135deg, #f5f5f4 0%, #e7e5e4 100%);
        }
        .nav-link {
            transition: all 0.3s ease-in-out;
        }
        .nav-link.active {
            color: #0d9488; /* teal-600 */
            border-bottom-color: #0d9488;
        }
        .content-section {
            display: none;
            animation: fadeIn 0.5s;
        }
        .content-section.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/90 backdrop-blur-lg sticky top-0 z-50 shadow-md">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <h1 class="text-2xl md:text-3xl font-bold text-indigo-600">❄️ 삿포로 여행 플래너</h1>
                <nav class="hidden md:flex space-x-6">
                    <a href="#overview" class="nav-link text-lg font-medium border-b-2 border-transparent hover:text-teal-500">개요</a>
                    <a href="#planning" class="nav-link text-lg font-medium border-b-2 border-transparent hover:text-teal-500">항공/숙소</a>
                    <a href="#itinerary" class="nav-link text-lg font-medium border-b-2 border-transparent hover:text-teal-500">추천 일정</a>
                    <a href="#activities" class="nav-link text-lg font-medium border-b-2 border-transparent hover:text-teal-500">즐길 거리</a>
                    <a href="#food" class="nav-link text-lg font-medium border-b-2 border-transparent hover:text-teal-500">맛집</a>
                    <a href="#safety" class="nav-link text-lg font-medium border-b-2 border-transparent hover:text-teal-500">안전 정보</a>
                </nav>
                <button id="mobile-menu-button" class="md:hidden p-2 text-gray-600">
                    <span class="menu-icon-bar block w-6 h-0.5 bg-gray-600 transition-transform"></span>
                    <span class="menu-icon-bar block w-6 h-0.5 bg-gray-600 mt-1.5 transition-transform"></span>
                    <span class="menu-icon-bar block w-6 h-0.5 bg-gray-600 mt-1.5 transition-transform"></span>
                </button>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
            <a href="#overview" class="block text-center py-3 text-lg font-medium nav-link hover:bg-stone-100">개요</a>
            <a href="#planning" class="block text-center py-3 text-lg font-medium nav-link hover:bg-stone-100">항공/숙소</a>
            <a href="#itinerary" class="block text-center py-3 text-lg font-medium nav-link hover:bg-stone-100">추천 일정</a>
            <a href="#activities" class="block text-center py-3 text-lg font-medium nav-link hover:bg-stone-100">즐길 거리</a>
            <a href="#food" class="block text-center py-3 text-lg font-medium nav-link hover:bg-stone-100">맛집</a>
            <a href="#safety" class="block text-center py-3 text-lg font-medium nav-link hover:bg-stone-100">안전 정보</a>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        <section id="overview" class="content-section">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold mb-4 text-gray-800">4박 5일 삿포로, 눈꽃과 미식 여행</h2>
                <p class="text-lg text-stone-600 max-w-3xl mx-auto">
                    2026년 1월 19일부터 23일까지, 가장 아름다운 설경을 여유롭게 즐길 수 있는 완벽한 겨울 여행을 계획해보세요. 이 플래너는 항공권부터 일정, 맛집, 안전 수칙까지 성공적인 나홀로 여행을 위한 모든 정보를 담고 있습니다.
                </p>
            </div>

            <div class="bg-white p-8 rounded-3xl shadow-xl">
                <h3 class="text-2xl font-bold text-center mb-6 text-gray-800">여행 스타일별 예상 경비 비교</h3>
                <div class="flex justify-center space-x-4 mb-6 flex-wrap">
                    <button id="budget-btn-core1" class="budget-btn active bg-indigo-600 text-white font-bold py-3 px-6 rounded-full transition hover:bg-indigo-700 mb-2">핵심 코스 A</button>
                    <button id="budget-btn-core2" class="budget-btn bg-gray-200 text-gray-600 font-bold py-3 px-6 rounded-full transition hover:bg-gray-300 mb-2">핵심 코스 B</button>
                    <button id="budget-btn-leisure1" class="budget-btn bg-gray-200 text-gray-600 font-bold py-3 px-6 rounded-full transition hover:bg-gray-300 mb-2">여유 코스 A</button>
                    <button id="budget-btn-leisure2" class="budget-btn bg-gray-200 text-gray-600 font-bold py-3 px-6 rounded-full transition hover:bg-gray-300 mb-2">여유 코스 B</button>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                    <div class="chart-container">
                        <canvas id="budgetChart"></canvas>
                    </div>
                    <div>
                        <h4 id="budget-title" class="text-2xl font-bold text-indigo-600 mb-4">핵심 코스 A: 삿포로, 오타루, 비에이 종합</h4>
                        <p id="budget-desc" class="text-stone-600 mb-4">삿포로 시내와 근교의 모든 핵심 명소를 방문하여 홋카이도 겨울의 정수를 경험하는 종합 코스입니다.</p>
                        <div class="bg-gray-100 p-6 rounded-xl">
                            <p class="text-lg font-medium text-gray-700">총 예상 경비 (1인 기준)</p>
                            <p id="budget-total" class="text-4xl font-bold text-teal-600">약 88 ~ 117만원</p>
                            <p class="text-sm text-stone-500 mt-2">(항공권 및 개인 소비에 따라 변동 가능)</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="planning" class="content-section">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold mb-4 text-gray-800">항공권 & 숙소 예약 가이드</h2>
                <p class="text-lg text-stone-600">알뜰하고 안전한 여행의 시작, 항공권과 숙소 선택의 모든 것을 알려드립니다.</p>
            </div>
            
            <div class="mb-12 bg-white p-8 rounded-3xl shadow-xl">
                <h3 class="text-3xl font-bold mb-8 text-indigo-600">✈️ 항공권 예약 전략</h3>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="bg-gray-100 p-6 rounded-2xl shadow-sm">
                        <p class="text-5xl font-extrabold text-teal-500 mb-2">D-40</p>
                        <h4 class="text-xl font-bold mb-2">최적 예약 시점</h4>
                        <p class="text-gray-600">출발 40일 전이 통계적으로 저렴하지만, 1월은 극성수기이므로 60만원대 가격이 보이면 바로 예약하는 것이 좋습니다.</p>
                    </div>
                    <div class="bg-gray-100 p-6 rounded-2xl shadow-sm">
                        <p class="text-5xl font-extrabold text-teal-500 mb-2">₩60만</p>
                        <h4 class="text-xl font-bold mb-2">현실적인 목표 가격</h4>
                        <p class="text-gray-600">성수기에는 70-85만원까지 오를 수 있습니다. 60만원 전후를 기준으로 꾸준히 가격을 모니터링하세요.</p>
                    </div>
                    <div class="bg-gray-100 p-6 rounded-2xl shadow-sm">
                        <p class="text-5xl font-extrabold text-teal-500 mb-2">🔔</p>
                        <h4 class="text-xl font-bold mb-2">가격 알리미 활용</h4>
                        <p class="text-gray-600">스카이스캐너 등 가격 비교 사이트의 알리미 기능을 설정하여 가격 변동을 놓치지 마세요.</p>
                    </div>
                </div>
            </div>

            <div class="bg-white p-8 rounded-3xl shadow-xl">
                <h3 class="text-3xl font-bold mb-8 text-indigo-600">🏨 안전하고 편안한 숙소 찾기</h3>
                <div class="flex flex-wrap justify-center gap-2 mb-8">
                    <button class="filter-btn-accommodation active bg-indigo-600 text-white py-3 px-6 rounded-full font-semibold transition hover:bg-indigo-700" data-filter="all">전체</button>
                    <button class="filter-btn-accommodation bg-gray-200 text-gray-600 py-3 px-6 rounded-full font-semibold transition hover:bg-gray-300" data-filter="hotel">호텔</button>
                    <button class="filter-btn-accommodation bg-gray-200 text-gray-600 py-3 px-6 rounded-full font-semibold transition hover:bg-gray-300" data-filter="capsule">캡슐/호스텔</button>
                    <button class="filter-btn-accommodation bg-gray-200 text-gray-600 py-3 px-6 rounded-full font-semibold transition hover:bg-gray-300" data-filter="women-friendly">여성 추천</button>
                </div>
                <div id="accommodation-list" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
                </div>
            </div>
        </section>

        <section id="itinerary" class="content-section">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold mb-4 text-gray-800">4박 5일 추천 여행 일정</h2>
                <p class="text-lg text-stone-600">네 가지 스타일의 여행 코스 중 당신에게 맞는 플랜을 선택해보세요.</p>
            </div>
            <div class="flex justify-center flex-wrap space-x-2 mb-8">
                <button id="itinerary-btn-core1" class="itinerary-btn active bg-indigo-600 text-white font-bold py-3 px-8 rounded-full transition text-sm sm:text-lg mb-2 hover:bg-indigo-700">핵심 코스 A</button>
                <button id="itinerary-btn-core2" class="itinerary-btn bg-gray-200 text-gray-600 font-bold py-3 px-8 rounded-full transition text-sm sm:text-lg mb-2 hover:bg-gray-300">핵심 코스 B</button>
                <button id="itinerary-btn-leisure1" class="itinerary-btn bg-gray-200 text-gray-600 font-bold py-3 px-8 rounded-full transition text-sm sm:text-lg mb-2 hover:bg-gray-300">여유 코스 A</button>
                <button id="itinerary-btn-leisure2" class="itinerary-btn bg-gray-200 text-gray-600 font-bold py-3 px-8 rounded-full transition text-sm sm:text-lg mb-2 hover:bg-gray-300">여유 코스 B</button>
            </div>
            <div id="itinerary-content-core1" class="itinerary-content"></div>
            <div id="itinerary-content-core2" class="itinerary-content hidden"></div>
            <div id="itinerary-content-leisure1" class="itinerary-content hidden"></div>
            <div id="itinerary-content-leisure2" class="itinerary-content hidden"></div>
        </section>

        <section id="activities" class="content-section">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold mb-4 text-gray-800">포토 스팟 & 즐길 거리</h2>
                <p class="text-lg text-stone-600">‘인생샷’을 남길 수 있는 아름다운 설경 명소와 겨울 액티비티를 소개합니다.</p>
            </div>
            <div id="activities-list" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
            </div>
        </section>

        <section id="food" class="content-section">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold mb-4 text-gray-800">삿포로 미식 탐방</h2>
                <p class="text-lg text-stone-600">여행의 즐거움을 더해줄 삿포로의 대표 음식과 현지인 추천 맛집 리스트!</p>
            </div>
            <div class="flex flex-wrap justify-center gap-2 mb-8">
                <button class="filter-btn-food active bg-indigo-600 text-white py-3 px-6 rounded-full font-semibold transition hover:bg-indigo-700" data-filter="all">전체</button>
                <button class="filter-btn-food bg-gray-200 text-gray-600 py-3 px-6 rounded-full font-semibold transition hover:bg-gray-300" data-filter="징기스칸">징기스칸</button>
                <button class="filter-btn-food bg-gray-200 text-gray-600 py-3 px-6 rounded-full font-semibold transition hover:bg-gray-300" data-filter="수프카레">수프카레</button>
                <button class="filter-btn-food bg-gray-200 text-gray-600 py-3 px-6 rounded-full font-semibold transition hover:bg-gray-300" data-filter="라멘">라멘</button>
                <button class="filter-btn-food bg-gray-200 text-gray-600 py-3 px-6 rounded-full font-semibold transition hover:bg-gray-300" data-filter="해산물">해산물</button>
                <button class="filter-btn-food bg-gray-200 text-gray-600 py-3 px-6 rounded-full font-semibold transition hover:bg-gray-300" data-filter="기타">기타</button>
            </div>
            <div id="food-list" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
            </div>
        </section>
        
        <section id="safety" class="content-section">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold mb-4 text-gray-800">여행 안전 가이드</h2>
                <p class="text-lg text-stone-600">안전하고 즐거운 여행을 위한 필수 수칙과 비상시 대처법을 확인하세요.</p>
            </div>
            <div id="safety-accordion-container" class="space-y-4 max-w-4xl mx-auto">
            </div>
        </section>
    </main>

    <footer class="bg-indigo-900 text-white mt-16">
        <div class="container mx-auto p-6 text-center text-sm">
            <p>&copy; 2026 Interactive Sapporo Trip Planner. All information based on the provided travel guide.</p>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', function () {
    
    const budgetData = {
        core1: {
            title: '핵심 코스 A: 삿포로, 오타루, 비에이 종합',
            description: '삿포로 시내와 근교의 모든 핵심 명소를 방문하는 알찬 일정입니다. 이동 시간이 길지만 다양한 경험을 할 수 있습니다.',
            total: '약 88 ~ 117만원',
            labels: ['항공권', '숙소', '식비', '교통/관광', '투어'],
            data: [450000, 160000, 150000, 48000, 90000],
        },
        core2: {
            title: '핵심 코스 B: 역동적인 삿포로, 근교 탐험',
            description: '삿포로의 밤 문화와 도시 탐험을 즐긴 후, 오타루와 비에이의 설경을 모두 경험하는 활동적인 일정입니다.',
            total: '약 87 ~ 115만원',
            labels: ['항공권', '숙소', '식비', '교통/관광', '투어'],
            data: [450000, 160000, 150000, 48000, 90000],
        },
        leisure1: {
            title: '여유 코스 A: 삿포로 & 오타루 집중',
            description: '삿포로 시내를 중심으로 여유롭게 여행하고, 낭만적인 도시 오타루를 깊이 있게 탐방하는 코스입니다.',
            total: '약 83 ~ 105만원',
            labels: ['항공권', '숙소', '식비', '교통/관광', '투어(선택)'],
            data: [450000, 160000, 150000, 48000, 0],
        },
        leisure2: {
            title: '여유 코스 B: 삿포로 & 비에이 설경',
            description: '삿포로의 다양한 매력을 즐긴 후, 버스 투어를 통해 비에이의 동화 같은 설경을 만끽하는 코스입니다.',
            total: '약 85 ~ 109만원',
            labels: ['항공권', '숙소', '식비', '교통/관광', '투어'],
            data: [450000, 160000, 150000, 48000, 42500],
        }
    };

    const accommodationData = [
        { name: '카락사 호텔 삿포로', type: '호텔', price: '₩103,147~', features: '도심 접근성, 깔끔함', filter: 'hotel', link: 'https://karaksahotels.com/sapporo/' },
        { name: '티마크 시티 호텔 삿포로', type: '호텔', price: '₩130,000~', features: '가성비, 스스키노 위치', filter: 'hotel', link: 'https://sapporo.tmark-hotel.com/' },
        { name: 'City Cabin Susukino', type: '캡슐호텔', price: '₩70,000~ (성수기)', features: '남녀 분리, 개별 샤워실', filter: 'capsule,women-friendly', link: 'https://citycabin.jp/' },
        { name: '헬리오 호스텔 삿포로', type: '호스텔', price: '문의', features: '여성 전용 층/샤워실, 보안 우수', filter: 'capsule,women-friendly', link: 'http://helio-hostel.jp/en/' },
        { name: '언탭드 호스텔', type: '호스텔', price: '문의', features: '여성 전용 도미토리룸', filter: 'capsule,women-friendly', link: 'https://untapped.jp/' },
        { name: '호텔 포트뭄', type: '호텔/도미토리', price: '문의', features: '여성 전용 룸, 방음 우수', filter: 'hotel,capsule,women-friendly', link: 'https://hotelpotmum.com/' },
        { name: '그리즈 삿포로', type: '호텔/도미토리', price: '문의', features: '여성 전용 도미토리, 역 접근성', filter: 'hotel,capsule,women-friendly', link: 'https://grids-hostel.com/' },
        { name: '타임 피스 아파트먼트', type: '아파트먼트', price: '문의', features: '여성 전용 도미토리/샤워실', filter: 'capsule,women-friendly', link: 'https://www.timepeace-sapporo.com/' },
    ];

    const itineraryData = {
        core1: [
            { day: '1일차 (월)', title: '삿포로 도착 & 오도리 공원', details: '삿포로 신치토세 공항 도착 후 삿포로역 이동 → 숙소 체크인 및 짐 보관 → <a href="https://odori-park.or.jp/en/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">오도리 공원</a>에서 설경 감상 → <a href="https://www.sapporo-tower.co.jp/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">TV타워 전망대</a>에서 야경 감상 → <a href="https://www.google.com/maps/search/?api=1&query=징기스칸+다루마" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">징기스칸 다루마</a> 저녁 식사.' },
            { day: '2일차 (화)', title: '비에이/후라노 눈꽃 투어', details: '삿포로 출발 <a href="https://www.google.com/search?q=비에이+버스+투어" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">비에이/후라노 버스 투어</a> 참여 (흰 수염 폭포, 청의 호수, 닝구르테라스 등). 아름다운 겨울 풍경에 푹 빠져보세요.' },
            { day: '3일차 (수)', title: '오타루 낭만 당일치기', details: 'JR로 <a href="https://otaru.gr.jp/en/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">오타루</a> 이동 → <a href="https://www.google.com/maps/place/오타루+운하" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">오타루 운하</a> 산책 → <a href="https://www.letao.jp/shop/main.php" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">르타오 본점</a>에서 디저트 → <a href="https://www.google.com/maps/search/?api=1&query=오타루+오르골당" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">오르골당</a> 및 상점가 구경 → 삿포로 복귀.' },
            { day: '4일차 (목)', title: '삿포로 심화 탐방 & 쇼핑', details: '<a href="https://www.shiroikoibitopark.jp/en/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">시로이 코이비토 파크</a> 또는 <a href="https://moerenumapark.jp/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">모에레누마 공원</a> → <a href="https://www.sushihanamaru.com/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">네무로 하나마루 회전초밥</a> 점심 → 삿포로역 지하 상가 또는 <a href="http://www.tanukikoji.or.jp/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">다누키코지 상점가</a> 쇼핑.' },
            { day: '5일차 (금)', title: '출국', details: '간단한 아침 식사 → 공항으로 이동 → 기념품 구매 및 면세점 구경 → 한국으로 출국.' }
        ],
        core2: [
            { day: '1일차 (월)', title: '삿포로 도착 & 스스키노 야경', details: '신치토세 공항 도착 후 삿포로역 이동 → 숙소 체크인 → <a href="https://www.google.com/maps/search/?api=1&query=스스키노" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">스스키노</a>에서 화려한 밤 풍경 즐기기 → <a href="https://www.google.com/maps/search/?api=1&query=새우라멘+이치겐" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">새우라멘 이치겐</a>에서 저녁 식사.' },
            { day: '2일차 (화)', title: '오타루 당일치기', details: 'JR로 <a href="https://otaru.gr.jp/en/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">오타루</a> 이동 → <a href="https://www.google.com/maps/place/오타루+운하" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">오타루 운하</a> 산책 → <a href="https://www.letao.jp/shop/main.php" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">르타오 본점</a>에서 디저트 → <a href="https://www.google.com/maps/search/?api=1&query=오타루+오르골당" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">오르골당</a> 및 상점가 구경 → 삿포로 복귀.' },
            { day: '3일차 (수)', title: '비에이/후라노 눈꽃 투어', details: '삿포로 출발 <a href="https://www.google.com/search?q=비에이+버스+투어" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">비에이/후라노 버스 투어</a> 참여 (흰 수염 폭포, 청의 호수, 닝구르테라스 등). 환상적인 설경 사진을 남겨보세요.' },
            { day: '4일차 (목)', title: '삿포로 시내 즐기기', details: '<a href="https://www.sapporo-tower.co.jp/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">TV타워 전망대</a>에서 삿포로 시내 풍경 감상 → <a href="https://moerenumapark.jp/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">모에레누마 공원</a>에서 설경과 함께 예술 작품 감상 → 저녁에는 <a href="https://www.sapporo-bier-garten.jp/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">삿포로 맥주원</a>에서 식사.' },
            { day: '5일차 (금)', title: '출국', details: '호텔 체크아웃 후 <a href="http://www.tanukikoji.or.jp/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">다누키코지 상점가</a>에서 마지막 쇼핑 → 신치토세 공항으로 이동 및 출국.' }
        ],
        leisure1: [
            { day: '1일차 (월)', title: '삿포로 도착 & 힐링', details: '신치토세 공항 도착 → 삿포로역 이동 후 숙소 체크인 → <a href="https://www.google.com/maps/search/?api=1&query=삿포로+카페" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">삿포로 시내 카페</a>에서 여유로운 시간 → <a href="https://www.google.com/maps/search/?api=1&query=수프카레" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">수프카레 맛집</a>에서 저녁 식사.' },
            { day: '2일차 (화)', title: '오타루 낭만 당일치기', details: 'JR로 <a href="https://otaru.gr.jp/en/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">오타루</a> 이동 → <a href="https://www.google.com/maps/place/오타루+운하" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">오타루 운하</a>에서 사진 촬영 → <a href="https://www.letao.jp/shop/main.php" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">르타오 본점</a>에서 디저트 → 삿포로 복귀 후 <a href="https://www.sushihanamaru.com/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">네무로 하나마루</a> 저녁.' },
            { day: '3일차 (수)', title: '삿포로 시내와 설경 즐기기', details: '<a href="https://odori-park.or.jp/en/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">오도리 공원</a>에서 눈꽃 풍경 감상 → <a href="https://www.sapporo-tower.co.jp/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">TV타워</a> 또는 <a href="https://moiwa.jp/en/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">모이와 산</a>에서 야경 감상 → <a href="https://www.google.com/maps/search/?api=1&query=징기스칸" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">징기스칸</a>으로 저녁 식사.' },
            { day: '4일차 (목)', title: '삿포로의 숨은 매력', details: '삿포로 교외 <a href="https://www.shiroikoibitopark.jp/en/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">시로이 코이비토 파크</a> 또는 <a href="http://jozankei.jp/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">조잔케이 온천</a> 방문 (개인 취향에 따라 선택) → 저녁은 <a href="http://www.tanukikoji.or.jp/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">다누키코지</a> 상점가에서 자유롭게 쇼핑과 식사.' },
            { day: '5일차 (금)', title: '출국', details: '가벼운 아침 식사 및 쇼핑 → 신치토세 공항으로 이동 → 한국으로 출국.' }
        ],
        leisure2: [
            { day: '1일차 (월)', title: '삿포로 도착 & 미식 탐방', details: '신치토세 공항 도착 후 삿포로역 이동 → 숙소 체크인 → <a href="https://www.google.com/maps/search/?api=1&query=스스키노" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">스스키노</a> <a href="https://www.google.com/maps/search/?api=1&query=라멘골목" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">라멘 골목</a>에서 저녁 식사.' },
            { day: '2일차 (화)', title: '비에이/후라노 설경 투어', details: '삿포로 출발 <a href="https://www.google.com/search?q=비에이+버스+투어" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">비에이/후라노 버스 투어</a> 참여 (크리스마스 트리, 세븐스타 나무 등). 사진 촬영에 집중하고 싶은 분께 추천.' },
            { day: '3일차 (수)', title: '삿포로 도시와 자연', details: '<a href="https://www.hokudai.ac.jp/en/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">홋카이도 대학 캠퍼스</a> 산책 후 <a href="https://www.sapporo-bier-garten.jp/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">삿포로 맥주원</a>에서 점심 식사 → <a href="https://www.shiroikoibitopark.jp/en/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">시로이 코이비토 파크</a> 방문.' },
            { day: '4일차 (목)', title: '마음 가는 대로, 자유 시간', details: '오전에는 자유롭게 <a href="https://www.google.com/maps/search/?api=1&query=삿포로+쇼핑몰" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">삿포로역 주변 쇼핑몰</a> 탐방 → 오후에는 <a href="https://donguri-bakery.com/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">동구리 베이커리</a> 등 숨은 맛집 탐방.' },
            { day: '5일차 (금)', title: '출국', details: '마지막으로 삿포로를 즐긴 후 신치토세 공항으로 이동 및 출국.' }
        ]
    };

    const activitiesData = [
        { name: '오도리 공원', category: '삿포로 시내', desc: '삿포로 눈 축제의 메인 회장. TV 타워를 배경으로 멋진 사진을 남길 수 있습니다.', link: 'https://odori-park.or.jp/en/' },
        { name: '모이와 산 전망대', category: '삿포로 시내', desc: '홋카이도 3대 야경 명소. 로프웨이를 타고 올라가 파노라마 설경과 야경을 감상하세요.', link: 'https://moiwa.jp/en/' },
        { name: '시로이 코이비토 파크', category: '삿포로 시내', desc: '환상적인 일루미네이션으로 유명한 과자 테마파크. 동화 같은 분위기를 연출합니다.', link: 'https://www.shiroikoibitopark.jp/en/' },
        { name: '비에이 청의 호수 & 흰 수염 폭포', category: '근교 투어', desc: '신비로운 푸른 빛의 호수와 겨울 수빙 현상이 절경인 폭포. 버스 투어로 방문하는 것을 추천합니다.', link: 'https://biei-hokkaido.jp/ja/sightseeing/shirogane-blue-pond/' },
        { name: '후라노 닝구르테라스', category: '근교 투어', desc: '숲속의 요정 마을 같은 통나무 상점가. 저녁에 조명이 켜지면 더욱 몽환적입니다.', link: 'https://www.princehotels.com/newfurano/resort/ningle-terrace/' },
        { name: '호헤이쿄 온천', category: '액티비티', desc: '산으로 둘러싸인 노천탕에서 눈을 맞으며 온천을 즐기는 특별한 경험을 할 수 있습니다.', link: 'https://hoheikyo.co.jp/' },
    ];

    const foodData = [
        { name: '징기스칸 다루마', type: '징기스칸', desc: '삿포로 대표 징기스칸 맛집. 잡내 없는 양고기와 특제 소스가 일품. 웨이팅 필수.', filter: '징기스칸', link: 'http://best.miru.so/daruma/' },
        { name: '삿포로 맥주원', type: '징기스칸', desc: '삿포로 맥주와 함께 징기스칸을 즐길 수 있는 곳. 레트로한 건물이 인상적.', filter: '징기스칸', link: 'https://www.sapporo-bier-garten.jp/' },
        { name: '수프 카레 가라쿠', type: '수프카레', desc: '현지인과 관광객 모두에게 사랑받는 1위 맛집. 깊고 진한 국물 맛이 특징.', filter: '수프카레', link: 'http://www.spicegoraku.com/' },
        { name: '스아게+', type: '수프카레', desc: '한국인에게 가장 유명한 곳. 큼직한 튀김 채소와 닭꼬치가 인기 메뉴.', filter: '수프카레', link: 'https://www.suage.info/' },
        { name: '멘야 유키카제', type: '라멘', desc: '진한 국물의 미소라멘이 유명한 곳. 두툼하고 부드러운 차슈가 인상적.', filter: '라멘', link: 'https://tabelog.com/hokkaido/A0101/A010103/1005872/' },
        { name: '새우라멘 이치겐', type: '라멘', desc: '진한 새우향이 가득한 독특한 라멘. 공항에도 있지만 본점 맛이 월등하다는 평.', filter: '라멘', link: 'https://tabelog.com/hokkaido/A0101/A010103/1029193/' },
        { name: '네무로 하나마루', type: '해산물/초밥', desc: '가성비 최고의 회전초밥집. 신선하고 두툼한 네타가 올라간 초밥을 맛볼 수 있다.', filter: '해산물', link: 'https://www.sushihanamaru.com/' },
        { name: '삿포로 동구리 베이커리', type: '기타', desc: '저렴하고 맛있는 현지인 빵집. 명물인 치쿠와빵은 꼭 먹어봐야 할 메뉴.', filter: '기타', link: 'https://donguri-bakery.com/' },
        { name: '세이코마트', type: '기타', desc: '홋카이도 대표 편의점. 저렴하고 퀄리티 좋은 도시락과 디저트로 식비를 절약할 수 있다.', filter: '기타', link: 'https://www.seicomart.co.jp/' },
    ];

    const safetyData = [
        { title: '기본 안전 수칙', content: '밤늦은 시간 혼자 다니는 것을 피하고, 인적이 드문 곳은 가지 않는 것이 좋습니다. 낯선 사람의 과도한 친절은 경계하고, 불안함을 느낄 땐 직감을 믿고 즉시 그 상황에서 벗어나는 것이 중요합니다.' },
        { title: '필수 준비물', content: '미끄럼 방지 기능이 있는 방수 신발은 필수입니다. 추위에 배터리가 빨리 닳으니 보조배터리를 항상 휴대하세요. 핫팩, 방한용품(모자, 장갑, 목도리)도 잊지 마세요.' },
        { title: '비상 연락처 및 앱', content: '경찰(110), JNTO 콜센터(050-3816-2787) 번호를 저장해두세요. 외교부 해외안전여행 앱과 일본 재해 정보 앱(Safety tips)을 미리 설치하면 위급 상황 시 도움이 됩니다.' },
        { title: '숙소 안전', content: '숙소 예약 전, 보안 시설과 잠금장치, 층간 소음 후기 등을 꼼꼼히 확인하여 안전하고 편안한 곳을 선택하는 것이 좋습니다.' }
    ];

    const navLinks = document.querySelectorAll('.nav-link');
    const contentSections = document.querySelectorAll('.content-section');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');

    function updateActiveNav(targetId) {
        navLinks.forEach(link => {
            link.classList.toggle('active', link.getAttribute('href') === `#${targetId}`);
        });
        contentSections.forEach(section => {
            section.classList.toggle('active', section.id === targetId);
        });
    }
    
    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const targetId = link.getAttribute('href').substring(1);
            updateActiveNav(targetId);
            if (!mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
                mobileMenuButton.classList.remove('is-active');
            }
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    });

    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
        mobileMenuButton.classList.toggle('is-active');
    });

    const ctx = document.getElementById('budgetChart').getContext('2d');
    let budgetChart;

    function createBudgetChart(data) {
        if (budgetChart) {
            budgetChart.destroy();
        }
        budgetChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: data.labels,
                datasets: [{
                    data: data.data,
                    backgroundColor: ['#4f46e5', '#818cf8', '#a5b4fc', '#0d9488', '#2dd4bf'],
                    borderColor: '#ffffff',
                    borderWidth: 4,
                    hoverOffset: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            font: { size: 14, family: "'Noto Sans KR', sans-serif" }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: (context) => `${context.label}: ${new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW' }).format(context.parsed)}`
                        }
                    }
                },
                cutout: '60%'
            }
        });
    }

    function updateBudgetInfo(option) {
        document.getElementById('budget-title').textContent = option.title;
        document.getElementById('budget-desc').textContent = option.description;
        document.getElementById('budget-total').textContent = option.total;
        createBudgetChart(option);
    }

    document.querySelectorAll('.budget-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            document.querySelectorAll('.budget-btn').forEach(b => b.classList.replace('bg-indigo-600', 'bg-gray-200') || b.classList.replace('text-white', 'text-gray-600'));
            btn.classList.replace('bg-gray-200', 'bg-indigo-600');
            btn.classList.replace('text-gray-600', 'text-white');
            updateBudgetInfo(budgetData[btn.id.replace('budget-btn-', '')]);
        });
    });

    function renderList(containerId, data, renderer) {
        const container = document.getElementById(containerId);
        container.innerHTML = data.map(renderer).join('');
    }

    function applyFilter(filter, containerClass) {
        document.querySelectorAll(containerClass).forEach(item => {
            item.style.display = (filter === 'all' || item.dataset.filter.includes(filter)) ? 'block' : 'none';
        });
    }

    renderList('accommodation-list', accommodationData, item => `
        <div class="accommodation-item bg-white rounded-xl shadow-md overflow-hidden transition hover:shadow-xl hover:-translate-y-1" data-filter="${item.filter}">
            <div class="p-6">
                <div class="flex justify-between items-start">
                    <div>
                        <p class="text-xs uppercase tracking-wide font-semibold text-teal-600">${item.type}</p>
                        <h4 class="text-xl font-bold mt-1 text-gray-800"><a href="${item.link}" target="_blank" rel="noopener noreferrer" class="hover:underline">${item.name}</a></h4>
                    </div>
                    <p class="text-lg font-bold text-indigo-600 whitespace-nowrap">${item.price}</p>
                </div>
                <p class="mt-2 text-gray-600">${item.features}</p>
            </div>
        </div>
    `);

    document.querySelectorAll('.filter-btn-accommodation').forEach(button => {
        button.addEventListener('click', (e) => {
            const filter = e.target.dataset.filter;
            document.querySelectorAll('.filter-btn-accommodation').forEach(btn => btn.classList.replace('bg-indigo-600', 'bg-gray-200') || btn.classList.replace('text-white', 'text-gray-600'));
            e.target.classList.replace('bg-gray-200', 'bg-indigo-600');
            e.target.classList.replace('text-gray-600', 'text-white');
            applyFilter(filter, '.accommodation-item');
        });
    });

    function renderItinerary(optionKey, containerId) {
        const container = document.getElementById(containerId);
        container.innerHTML = `<div class="space-y-4 max-w-3xl mx-auto">
            ${itineraryData[optionKey].map(day => `
                <div class="bg-white p-5 rounded-lg shadow-md">
                    <h4 class="text-xl font-bold text-indigo-600">${day.day}: <span class="font-semibold text-gray-700">${day.title}</span></h4>
                    <p class="mt-2 text-gray-600">${day.details}</p>
                </div>
            `).join('')}
        </div>`;
    }

    document.querySelectorAll('.itinerary-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            document.querySelectorAll('.itinerary-btn').forEach(b => b.classList.replace('bg-indigo-600', 'bg-gray-200') || b.classList.replace('text-white', 'text-gray-600'));
            btn.classList.replace('bg-gray-200', 'bg-indigo-600');
            btn.classList.replace('text-gray-600', 'text-white');
            document.querySelectorAll('.itinerary-content').forEach(c => c.classList.add('hidden'));
            document.getElementById(`itinerary-content-${btn.id.replace('itinerary-btn-', '')}`).classList.remove('hidden');
        });
    });

    renderList('activities-list', activitiesData, item => `
        <div class="bg-white rounded-xl shadow-lg overflow-hidden transition hover:shadow-xl hover:-translate-y-1">
            <div class="bg-indigo-600 text-white p-6">
                <h4 class="text-xl font-bold"><a href="${item.link}" target="_blank" rel="noopener noreferrer" class="hover:underline">${item.name}</a></h4>
                <p class="text-sm font-medium opacity-90">${item.category}</p>
            </div>
            <div class="p-6"><p class="text-gray-600">${item.desc}</p></div>
        </div>
    `);

    renderList('food-list', foodData, item => `
        <div class="food-item bg-white rounded-xl shadow-md overflow-hidden transition hover:shadow-xl hover:-translate-y-1" data-filter="${item.filter}">
            <div class="p-6">
                 <p class="text-xs uppercase tracking-wide font-semibold text-teal-600">${item.type}</p>
                <h4 class="text-xl font-bold mt-1 text-gray-800"><a href="${item.link}" target="_blank" rel="noopener noreferrer" class="hover:underline">${item.name}</a></h4>
                <p class="mt-2 text-gray-600">${item.desc}</p>
            </div>
        </div>
    `);

    document.querySelectorAll('.filter-btn-food').forEach(button => {
        button.addEventListener('click', (e) => {
            const filter = e.target.dataset.filter;
            document.querySelectorAll('.filter-btn-food').forEach(btn => btn.classList.replace('bg-indigo-600', 'bg-gray-200') || btn.classList.replace('text-white', 'text-gray-600'));
            e.target.classList.replace('bg-gray-200', 'bg-indigo-600');
            e.target.classList.replace('text-gray-600', 'text-white');
            applyFilter(filter, '.food-item');
        });
    });

    renderList('safety-accordion-container', safetyData, item => `
        <div class="bg-white rounded-lg shadow-md">
            <button class="accordion-header w-full flex justify-between items-center p-5 text-left font-bold text-lg text-indigo-600">
                <span>${item.title}</span>
                <span class="accordion-icon transform transition-transform text-teal-500">▼</span>
            </button>
            <div class="accordion-content px-5"><div class="py-4 border-t"><p class="text-gray-600">${item.content}</p></div></div>
        </div>
    `);

    document.querySelectorAll('.accordion-header').forEach(header => {
        header.addEventListener('click', () => {
            const content = header.nextElementSibling;
            const icon = header.querySelector('.accordion-icon');
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
                icon.classList.remove('rotate-180');
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
                icon.classList.add('rotate-180');
            }
        });
    });

    function initializeApp() {
        updateActiveNav('overview');
        updateBudgetInfo(budgetData.core1);
        renderItinerary('core1', 'itinerary-content-core1');
        renderItinerary('core2', 'itinerary-content-core2');
        renderItinerary('leisure1', 'itinerary-content-leisure1');
        renderItinerary('leisure2', 'itinerary-content-leisure2');
        applyFilter('all', '.accommodation-item');
        applyFilter('all', '.food-item');
    }

    initializeApp();
});
</script>

</body>
</html>
